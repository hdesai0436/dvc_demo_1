schema: '2.0'
stages:
  load_data:
    cmd: python src/stage_01.py --config=config/config.yaml
    deps:
    - path: config/config.yaml
      md5: 96bc544a3a3454197ab1514e9a2ad07a
      size: 300
    - path: src/stage_01.py
      md5: 5638fa2d64c325d1fc12388967896801
      size: 997
    - path: src/utils/all_utils.py
      md5: b0a07e2a46b79153cfc9cc02b40e7d8f
      size: 620
    outs:
    - path: artifacts/raw_local_dir/data.csv
      md5: 60acca81995dc9744b499005ecfe6f2a
      size: 24059
  split_data:
    cmd: python src/stage_02.py --config=config/config.yaml --params=params.yaml
    deps:
    - path: artifacts/raw_local_dir/data.csv
      md5: 60acca81995dc9744b499005ecfe6f2a
      size: 24059
    - path: config/config.yaml
      md5: 96bc544a3a3454197ab1514e9a2ad07a
      size: 300
    - path: src/stage_02.py
      md5: a9b702d19c551354299efe2ae344659b
      size: 1646
    - path: src/utils/all_utils.py
      md5: b0a07e2a46b79153cfc9cc02b40e7d8f
      size: 620
    params:
      params.yaml:
        base.random_state: 43
        base.test_size: 0.2
    outs:
    - path: artifacts/split_data_dir/test.csv
      md5: 713625cf251b2ebb1470018dedf0148a
      size: 4889
    - path: artifacts/split_data_dir/train.csv
      md5: 28741e00637bdefe164b90d635142c45
      size: 19268
  train:
    cmd: python src/train.py --config=config/config.yaml --params=params.yaml
    deps:
    - path: artifacts/split_data_dir/train.csv
      md5: 28741e00637bdefe164b90d635142c45
      size: 19268
    - path: config/config.yaml
      md5: 96bc544a3a3454197ab1514e9a2ad07a
      size: 300
    - path: src/train.py
      md5: da9897b20e7b5f74ad579ea52452e25d
      size: 2166
    - path: src/utils/all_utils.py
      md5: b0a07e2a46b79153cfc9cc02b40e7d8f
      size: 620
    params:
      params.yaml:
        train.max_depth: 22
        train.n_estimators: 900
    outs:
    - path: artifacts/model_dir/pipe.pkl
      md5: a7b3514699abc9a53d73d8891b3ed381
      size: 16838555
  model_test:
    cmd: python src/eval.py --config=config/config.yaml
    deps:
    - path: artifacts/model_dir/pipe.pkl
      md5: a7b3514699abc9a53d73d8891b3ed381
      size: 16838555
    - path: config/config.yaml
      md5: 96bc544a3a3454197ab1514e9a2ad07a
      size: 300
    - path: src/eval.py
      md5: 29f80b314d8e4fe7e11987bffef6e858
      size: 2047
    - path: src/utils/all_utils.py
      md5: b0a07e2a46b79153cfc9cc02b40e7d8f
      size: 620
    outs:
    - path: metrics.json
      md5: c9b8358f9c2fc76c966f9dae19ad84fd
      size: 37
